@page
@model chessweb_csharp.Pages.IndexModel
@{
    ViewData["Title"] = "Chess Web";
    Layout = "_Layout";
}

<h2>Welcome to Chess Web API!</h2>

<div id="board" style="width: 400px"></div>

<form method="post" asp-page-handler="AddGame">
    <label for="fen">FEN String:</label>
    <input type="text" id="fen" name="fen" value="@Model.Fen" />
    <button type="submit">Add Game</button>
</form>

<form method="get" asp-page-handler="GetGameById">
    <label for="gameId">Game ID:</label>
    <input type="text" id="gameId" name="gameId" />
    <button type="submit">Get Game</button>
</form>

<form method="get" asp-page-handler="GetPosition">
    <label for="fenPosition">FEN Position:</label>
    <input type="text" id="fenPosition" name="fenPosition" />
    <button type="submit">Get Position</button>
</form>

@section Scripts {
    <script src="js/chessboard-1.0.0.min.js"></script>
    <script>
        console.log("Script loaded");
        document.addEventListener("DOMContentLoaded", function() {
            console.log("DOM fully loaded and parsed");
            var board = Chessboard('board', {
                position: '@Model.Fen'
            });
        });
    </script>
}